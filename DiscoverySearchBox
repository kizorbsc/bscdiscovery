
<link rel="stylesheet" type="text/css" href="style.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap-theme.min.css" integrity="sha384-6pzBo3FDv/PJ8r2KRkGHifhEocL+1X2rVCTTkUfGk7/0pbek5mMa1upzvWbrUbOZ" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>


<!--Custom CSS for Discovery Search Box Widget-->
<style>
  #discoverySearch,
  #discoverySearch * {
      box-sizing: border-box!important;
      margin: 0;
      padding: 0;
      text-align: left;
  }

  #discoverySearchForm {
      position: relative;
      width: auto;
      padding: 1.25em 2em 1em;
      background-color: transparent!important;
      color: #333!important;
      z-index: 1;
      line-height: initial;
  }

  #discoverySearchFieldDropdown {
      position: relative;
      height: 3em;
      background-color: white;
      color: #333333;
  }

  #discoverySearchFieldDropdown:after {
      content: '\f078';
      display: block;
      font-family: 'FontAwesome', sans-serif;
      position: absolute;
      top: 0;
      right: .5em;
      line-height: 3em;
      z-index: 5;
  }

  #discoverySearchFieldDropdown #discoverySearchField {
      position: relative;
      z-index: 10;
      height: 100%;
      font-size: 1em;
      color: #333333;
      padding: 0 2em 0 1em;
      background-color: transparent;
      border-top: 1px solid #ccc;
      border-right: 0;
      border-bottom: 1px solid #ccc;
      border-left: 1px solid #ccc;
      border-image: initial;
      border-radius: 0;
      -webkit-appearance: none;
      -moz-appearance: none;
  }

  select::-ms-expand {
      display: none;
  }

  #discoveryQueryString {
      display: inline-block;
      width: 100%;
      height: 3em;
      font-size: 1em;
      padding: 0 0.5em;
      margin-bottom: 0.5em;
      color: black;
      background-color: white;
      border-radius: 0;
      border: 1px solid #ccc;
  }

  #discoverySearchButton {
      display: inline-block;
      padding: .25em .5em;
      font-size: 1em;
      height: 3em;
      width: auto;
      min-width: 6em;
      color: black;
      background-color: #faaf00;
      margin-left: .5em;
      border-radius: 0.25em;
      border: none;
      background-image: none;
      float: none;
      text-align: center
  }

  #discoverySearchButton:hover {
      font-weight: bold;
      border: 1px white;
      outline: 1px black;
  }

  #discoveryAdvancedSearchLink {
      display: flex;
      width: 100%;
      margin-top: 1em;
      justify-content: right;
  }

  /*Make Search Box Responsive*/

  @media (max-width: 767px) {
      #discoverySearchForm>div>div {
          flex-wrap: wrap;
      }
      #discoverySearchForm {
          padding: 0px;
      }
      #discoverySearchFieldDropdown {
          border-radius: .25em;
          border: 1px solid #ccc;
          height: 2.25em;
          width: 6em;
          padding: 0;
      }
      #discoverySearchFieldDropdown:after {
          content: '\f107';
          line-height: 2.75;
          font-size: .8em;
      }
    #discoverySearchFieldDropdown #discoverySearchField {
          border: none;
          line-height: 2.25em;
          padding: 0 .5em 0;
      }
      #discoverySearch {
          border-radius: .25em;
          margin: 0;
          height: 2.25em;
      }
      #discoverySearchButton {
          height: 2em;
          margin: 0;
          padding: 0;
      }
      #discoveryAdvancedSearchLink {
          justify-content: left;
      }
   }

  @media (max-width: 479px) {
      #discoverySearchFieldDropdown {
          height: 2em;
      }
      #discoverySearchButton {
          height: 2em;
          font-size: .9em;
      }
  }
  </style>

<!--WorldCat Discovery Search Box-->
<label for="discoverySearch" class="sr-only">Discovery will search for books, articles, media, and more across all BSC Library collections.</label>
  <section id="discoverySearch">
    <form id="discoverySearchForm" role="search">
      <div style="display: flex; width: 100%; margin-top: 1em;">
        <div style="display: flex; flex-grow: 1;">
          <label for="discoverySearchFieldDropdown" class="sr-only">Search Field Index. Choose a search field from the dropdown menu.</label>
          <div id="discoverySearchFieldDropdown">
            <select id="discoverySearchField">
              <option selected="selected" value="kw">Keyword</option>
              <option value="ti">Title</option>
              <option value="su">Subject</option>
              <option value="au">Author</option>
            </select>
          </div>
        </div>
        <label for="discoveryQueryString" class="control-label sr-only">Search Form Text Field: Enter term or terms to search.</label>
        <input id="discoveryQueryString" type="text" autocomplete="off" required="You must enter a search term to search for books and media." placeholder="Search everything&mdash;books, articles, media, and more."/>
        <button id="discoverySearchButton" type="submit" value="SEARCH"></button>
      </div>
      <label for="discoveryAdvancedSearchLink" class="control-label sr-only">Clicking on the link below will take you to the WorldCat Discovery Advanced Search page.</label>
      <div id="discoveryAdvancedSearchLink">
        <p><a href="https://bsclibrary.on.worldcat.org/advancedsearch" target="_blank" style="color: white; font-size: 1em; font-weight: normal;">Advanced Search</a></p>
      </div>
    </form>
  </section>

<!--Javascript for WorldCat Discovery Search-->
<script>
  (function(){var d,w,h,form,input,urlBase,active,facets,r,rt,a,f,select,query;
    d=document;
    w=window;
    r=(function(){try{return w.self!==w.top;
    }catch(e){return true;
    }})();
    rt=r?'_blank':'_self';
    a=d.getElementById('discoveryAdvancedSearch');
    if(a)a.setAttribute('target',rt);
    h=function(e){if(e.keyCode&&e.keyCode!==13)return;
    };
    form=d.getElementById('discoverySearchForm');
    input=d.getElementById('discoveryQueryString');
    select=d.getElementById('discoverySearchFields');
    urlBase = 'https://bsclibrary.on.worldcat.org/external-search?queryString=#T#&databaseList=199,239,283,3909,638&clusterResults=on&stickyFacetsChecked=off&changedFacet=stickyFacetsChecked&baseScope=wz%3A5766&sortKey=BEST_MATCH#F#';
    form.addEventListener('submit',function(e){e.preventDefault();
    e.stopPropagation();
    f='';
    query=input.value;
    if(select){var index=select.options[select.selectedIndex].value;
    if(index!=='kw')query=select.options[select.selectedIndex].value+':'+query;
    }w.open(urlBase.replace('#T#',encodeURIComponent(query)).replace('#F#',f),rt);
    });
    })();
</script>
<!--End WorldCat Discovery Search Box-->
